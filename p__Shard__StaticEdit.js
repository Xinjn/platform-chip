(self["webpackChunktimeline"]=self["webpackChunktimeline"]||[]).push([[44],{64064:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"text":"text___1QyA-"};\n\n//# sourceURL=webpack://timeline/./src/components/ArticlePublish/ConflictCheckLog/conflictCheckLog.less?')},42499:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"flexBox":"flexBox___gXeNk","flexChildren":"flexChildren___2Qul0","flexExtra":"flexExtra___2FYqe"};\n\n//# sourceURL=webpack://timeline/./src/components/FlexListLayout/index.less?')},87807:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"box":"box___1sBUg"};\n\n//# sourceURL=webpack://timeline/./src/components/History/index.less?')},39907:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"btnGroup":"btnGroup___1sWRT","btn":"btn___1SJxF","tools":"tools___3IM9d","toolsMiddle":"toolsMiddle___3nxZi","toolsLeft":"toolsLeft___3V0x5","toolsRight":"toolsRight___3yK-F","formItem":"formItem___25uGe","kvInput":"kvInput___2R8I8","conflictCheckLog":"conflictCheckLog___3Ubht","roleBack":"roleBack___1q_N-","flexListLayoutChildren":"flexListLayoutChildren___1NxoU","virtualizedBox":"virtualizedBox___3uMS-","virtualizedHeader":"virtualizedHeader___ytRCX","virtualizedBody":"virtualizedBody___2B_dH","gridItem":"gridItem___DXLrP"};\n\n//# sourceURL=webpack://timeline/./src/pages/Shard/RecommendEdit/index.less?')},39511:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"basicFieldBox":"basicFieldBox___3iPfI","select":"select___1QpNj","editorBox":"editorBox___1HWx4"};\n\n//# sourceURL=webpack://timeline/./src/pages/Shard/StaticEdit/index.less?')},80950:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": function() { return /* binding */ ConflictCheckLog_ConflictCheckLog; }\n});\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(68699);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(86483);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(94043);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./src/components/ArticlePublish/ConflictCheckLog/conflictCheckLog.less?modules\nvar conflictCheckLogmodules = __webpack_require__(64064);\nvar conflictCheckLogmodules_default = /*#__PURE__*/__webpack_require__.n(conflictCheckLogmodules);\n// EXTERNAL MODULE: ./src/utils/request.v2/request.ts + 5 modules\nvar request = __webpack_require__(10676);\n;// CONCATENATED MODULE: ./src/components/ArticlePublish/ConflictCheckLog/services/conflictCheckLog.ts\n\n\n/**\n * \u68c0\u67e5\u662f\u5426\u5728\u540c\u65f6\u7f16\u8f91\n * @param { string } uri: \u68c0\u67e5\u7684\u5730\u5740\n */\nfunction conflictCheck(uri) {\n  return (0,request/* default */.Z)("/proxy/ucms/api/conflict/check?url=".concat(uri));\n}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n;// CONCATENATED MODULE: ./src/components/ArticlePublish/ConflictCheckLog/ConflictCheckLog.tsx\n\n\n\n\n\n\n\n\n\n/**\n * \u68c0\u67e5\u662f\u5426\u540c\u65f6\u7f16\u8f91\n * @param { string } props.url: \u5f53\u524d\u68c0\u67e5\u7684\u9875\u9762\u5730\u5740\n * @param { string } props.ucmsId: \u5f53\u524d\u68c0\u67e5\u7684ucmsid\n * @param { boolean } props.checkById: \u5f53\u524d\u4f7f\u7528id\u6765\u68c0\u67e5\n */\nfunction ConflictCheckLog(props) {\n  var url = props.url,\n      ucmsId = props.ucmsId,\n      checkById = props.checkById;\n  var checkKey = (0,react.useMemo)(function () {\n    if (checkById && ucmsId) {\n      return "DOC_".concat(ucmsId);\n    } else {\n      return url !== null && url !== void 0 ? url : null;\n    }\n  }, [url, ucmsId, checkById]);\n\n  var _useState = (0,react.useState)([]),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      nameList = _useState2[0],\n      setNameList = _useState2[1];\n\n  var timerRef = (0,react.useRef)(null);\n\n  function getNameList() {\n    return _getNameList.apply(this, arguments);\n  }\n\n  function _getNameList() {\n    _getNameList = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee() {\n      var data, name;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!checkKey) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return conflictCheck(checkKey);\n\n            case 3:\n              data = _context.sent;\n\n              if (data) {\n                name = data.data.map((item, index) => item.cn);\n                setNameList(name);\n              }\n\n            case 5:\n              timerRef.current = setTimeout(getNameList, 60000);\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getNameList.apply(this, arguments);\n  }\n\n  (0,react.useEffect)(function () {\n    if (timerRef.current !== null) {\n      clearTimeout(timerRef.current);\n    }\n\n    getNameList();\n    return function () {\n      clearTimeout(timerRef.current);\n    };\n  }, [checkKey]);\n\n  if (nameList.length !== 0) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n      className: (conflictCheckLogmodules_default()).text,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("b", {\n        children: "\\u3010\\u91CD\\u8981\\u63D0\\u793A\\u3011"\n      }), "\\u5F53\\u524D\\u7F16\\u8F91\\u8BE5\\u9875\\u9762\\u7684\\u8FD8\\u6709\\uFF1A", nameList.join(\'\uff0c\')]\n    });\n  } else {\n    return null;\n  }\n}\n\n/* harmony default export */ var ConflictCheckLog_ConflictCheckLog = (ConflictCheckLog);\n\n//# sourceURL=webpack://timeline/./src/components/ArticlePublish/ConflictCheckLog/ConflictCheckLog.tsx_+_1_modules?')},31680:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35510);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42499);\n/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85893);\n\n\n\n\nvar contentId = \'flex-list-layout-content\';\n\n/**\n * \u5217\u8868\u5c55\u793a\u7684\u4e0a\u4e0b\u56fa\u5b9a\uff0c\u4e2d\u95f4\u6eda\u52a8\u7684\u5e03\u5c40\n *  ----------------------\n *  |       header       |\n *  |--------------------|\n *  |                    |\n *  |      children      | children\u53ef\u4ee5\u6eda\u52a8\n *  |                    |\n *  |--------------------|\n *  |       footer       |\n *  ----------------------\n * @param { React.ReactNode } props.header: \u5934\u90e8\u533a\u57df\n * @param { React.ReactNode } props.children: \u4e2d\u95f4\u533a\u57df\n * @param { React.ReactNode } props.footer: \u5e95\u90e8\u533a\u57df\n * @param { string } props.childrenClassName: \u4e2d\u95f4\u533a\u57df\u7684\u7c7b\u540d\uff0c\u53ef\u4ee5\u5408\u5e76\n */\nfunction FlexListLayout(props) {\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div", {\n    className: (_index_less_modules__WEBPACK_IMPORTED_MODULE_1___default().flexBox),\n    children: [(props === null || props === void 0 ? void 0 : props.header) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {\n      className: (_index_less_modules__WEBPACK_IMPORTED_MODULE_1___default().flexExtra),\n      children: props === null || props === void 0 ? void 0 : props.header\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()((_index_less_modules__WEBPACK_IMPORTED_MODULE_1___default().flexChildren), props === null || props === void 0 ? void 0 : props.childrenClassName),\n      id: contentId,\n      children: props === null || props === void 0 ? void 0 : props.children\n    }), (props === null || props === void 0 ? void 0 : props.footer) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {\n      className: (_index_less_modules__WEBPACK_IMPORTED_MODULE_1___default().flexExtra),\n      children: props === null || props === void 0 ? void 0 : props.footer\n    })]\n  });\n}\n\nFlexListLayout.id = contentId;\n/* harmony default export */ __webpack_exports__["Z"] = (FlexListLayout);\n\n//# sourceURL=webpack://timeline/./src/components/FlexListLayout/index.tsx?')},92042:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": function() { return /* binding */ components_History; }\n});\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar style = __webpack_require__(14643);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__(38488);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar modal_style = __webpack_require__(26780);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 16 modules\nvar modal = __webpack_require__(46581);\n// EXTERNAL MODULE: ./node_modules/antd/es/table/style/index.js\nvar table_style = __webpack_require__(36805);\n// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 65 modules\nvar table = __webpack_require__(79188);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(13753);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(48429);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(68699);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(86483);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(94043);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./src/components/History/index.less?modules\nvar Historymodules = __webpack_require__(87807);\nvar Historymodules_default = /*#__PURE__*/__webpack_require__.n(Historymodules);\n// EXTERNAL MODULE: ./src/utils/request.v2/request.ts + 5 modules\nvar request = __webpack_require__(10676);\n;// CONCATENATED MODULE: ./src/components/History/services/history.ts\n\n\n/**\n * \u67e5\u8be2\u5386\u53f2\u8bb0\u5f55\n * @param { string } tableName: \u67e5\u8be2\u7c7b\u578b\n * @param { string } tableId: \u6570\u636e\u7684ucmsid\n * @param { number } pageNo: \u5206\u9875\n */\nfunction requestHistory() {\n  var tableName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'documents\';\n  var tableId = arguments.length > 1 ? arguments[1] : undefined;\n  var pageNo = arguments.length > 2 ? arguments[2] : undefined;\n  var searchParams = new URLSearchParams({\n    tableName,\n    tableId,\n    pageNo: String(pageNo),\n    pageSize: \'10\'\n  });\n  return (0,request/* default */.Z)("/proxy/ucms/api/history/list?".concat(searchParams.toString()));\n}\n/**\n * \u83b7\u53d6\u5386\u53f2\u6570\u636e\n * @param { number } id\n */\n\nfunction requestHistoryData(id) {\n  return (0,request/* default */.Z)("/proxy/ucms/api/history/getDataById?id=".concat(id));\n}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n;// CONCATENATED MODULE: ./src/components/History/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * \u5386\u53f2\u8bb0\u5f55\n * @param { boolean } props.visible: modal\u7684\u663e\u793a\n * @param { string } props.type: \u5386\u53f2\u8bb0\u5f55\u7c7b\u578b\n * @param { string } props.id: \u6587\u7ae0\u7684id\n * @param { Function } props.onCancel: \u5173\u95ed\u4e8b\u4ef6\n * @param { Function } props.onRollback: \u56de\u6eda\u4e8b\u4ef6\n */\nfunction History(props) {\n  var visible = props.visible,\n      type = props.type,\n      id = props.id,\n      onCancel = props.onCancel,\n      onRollback = props.onRollback;\n\n  var _useState = (0,react.useState)([]),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      historyList = _useState2[0],\n      setHistoryList = _useState2[1],\n      _useState3 = (0,react.useState)(1),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      current = _useState4[0],\n      setCurrent = _useState4[1],\n      _useState5 = (0,react.useState)(0),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      total = _useState6[0],\n      setTotal = _useState6[1]; // \u6570\u636e\u603b\u6570\n  // \u56de\u6eda\n\n\n  function handleBackClick(_x, _x2) {\n    return _handleBackClick.apply(this, arguments);\n  } // \u8bf7\u6c42\u5386\u53f2\u6570\u636e\n\n\n  function _handleBackClick() {\n    _handleBackClick = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(record, event) {\n      var res, data;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return requestHistoryData(record.id);\n\n            case 3:\n              res = _context.sent;\n\n              if (res) {\n                data = JSON.parse(res.data.data);\n                onRollback === null || onRollback === void 0 ? void 0 : onRollback({\n                  createDate: record.createDate,\n                  data\n                });\n              } else {\n                message.default.error(\'\u56de\u6eda\u5931\u8d25\uff01\');\n              }\n\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context["catch"](0);\n              console.error(_context.t0);\n\n              message.default.error(\'\u56de\u6eda\u5931\u8d25\uff01\');\n\n            case 11:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return _handleBackClick.apply(this, arguments);\n  }\n\n  function getHistoryList() {\n    return _getHistoryList.apply(this, arguments);\n  } // \u9875\u7801\u53d8\u5316\n\n\n  function _getHistoryList() {\n    _getHistoryList = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2() {\n      var res, _res$data, list, pagination;\n\n      return regenerator_default().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return requestHistory(type, id, current);\n\n            case 3:\n              res = _context2.sent;\n\n              if (res) {\n                _res$data = res.data, list = _res$data.list, pagination = _res$data.pagination;\n                setHistoryList(list);\n                setTotal(pagination.total);\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2["catch"](0);\n              console.error(_context2.t0);\n\n            case 10:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n    return _getHistoryList.apply(this, arguments);\n  }\n\n  function handleCurrentChange(page, pageSize) {\n    setCurrent(page);\n  }\n\n  var columns = [{\n    title: \'\u66f4\u65b0\u65f6\u95f4\',\n    dataIndex: \'createDate\'\n  }, {\n    title: \'\u64cd\u4f5c\u4eba\',\n    dataIndex: \'operator_zh_cn\'\n  }, {\n    title: \'\u64cd\u4f5c\',\n    key: \'handle\',\n    render: (value, record, index) => /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      size: "small",\n      onClick: event => handleBackClick(record, event),\n      children: "\\u56DE\\u586B"\n    })\n  }];\n  (0,react.useEffect)(function () {\n    if (id && visible) {\n      getHistoryList();\n    }\n  }, [current, id, type, visible]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(modal/* default */.Z, {\n    title: "\\u5386\\u53F2\\u8BB0\\u5F55",\n    visible: visible,\n    width: 600,\n    centered: true,\n    footer: /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      onClick: onCancel,\n      children: "\\u5173\\u95ED"\n    }),\n    onCancel: onCancel,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: (Historymodules_default()).box,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.Z, {\n        size: "small",\n        columns: columns,\n        dataSource: historyList,\n        rowKey: "id",\n        pagination: {\n          current,\n          pageSize: 10,\n          showSizeChanger: false,\n          total,\n          onChange: handleCurrentChange\n        }\n      })\n    })\n  });\n}\n\n/* harmony default export */ var components_History = (History);\n\n//# sourceURL=webpack://timeline/./src/components/History/index.tsx_+_1_modules?')},47858:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export mergeTitle */\n/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48645);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85893);\n\n\n\nvar title = \'UCMS\u51e4\u51f0\u5185\u5bb9\u53d1\u5e03\u7cfb\u7edf\';\nvar mergeTitle = t => "".concat(t, " - ").concat(title);\n/**\n * \u4fee\u6539\u7f51\u9875\u6807\u9898\n * @param { string | number } props.children\n */\n\nfunction Title(props) {\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_helmet__WEBPACK_IMPORTED_MODULE_0__/* .Helmet */ .q, {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("title", {\n      children: [props.children, " - ", title]\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__["Z"] = (Title);\n\n//# sourceURL=webpack://timeline/./src/components/Title/Title.tsx?')},50336:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ StaticEdit; }\n});\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar style = __webpack_require__(26780);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 16 modules\nvar modal = __webpack_require__(46581);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(13753);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(48429);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(56361);\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(68137);\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 18 modules\nvar input = __webpack_require__(76563);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(68699);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar message_style = __webpack_require__(14643);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__(38488);\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(67604);\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 16 modules\nvar es_form = __webpack_require__(23972);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(97140);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js\nvar es_select = __webpack_require__(90407);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(86483);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(94043);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(30112);\n// EXTERNAL MODULE: ./node_modules/react-monaco-editor/lib/index.js + 3 modules\nvar lib = __webpack_require__(66916);\n// EXTERNAL MODULE: ./node_modules/monaco-editor/esm/vs/editor/editor.api.js + 404 modules\nvar editor_api = __webpack_require__(82696);\n// EXTERNAL MODULE: ./src/pages/Shard/StaticEdit/index.less?modules\nvar StaticEditmodules = __webpack_require__(39511);\nvar StaticEditmodules_default = /*#__PURE__*/__webpack_require__.n(StaticEditmodules);\n// EXTERNAL MODULE: ./src/pages/Shard/RecommendEdit/index.less?modules\nvar RecommendEditmodules = __webpack_require__(39907);\nvar RecommendEditmodules_default = /*#__PURE__*/__webpack_require__.n(RecommendEditmodules);\n// EXTERNAL MODULE: ./src/utils/lodash/object.ts\nvar object = __webpack_require__(74322);\n// EXTERNAL MODULE: ./src/components/FlexListLayout/index.tsx\nvar FlexListLayout = __webpack_require__(31680);\n// EXTERNAL MODULE: ./src/pages/Shard/models/shard.hook.js\nvar shard_hook = __webpack_require__(68256);\n// EXTERNAL MODULE: ./src/utils/request.v2/request.ts + 5 modules\nvar request = __webpack_require__(10676);\n;// CONCATENATED MODULE: ./src/pages/Shard/services/static.js\n\n/**\n * \u83b7\u53d6\u9759\u6001\u788e\u7247\u7684\u4fe1\u606f\n * @param { string } id\n */\n\nfunction requestStaticData(id) {\n  // return request(`/proxy/ucms/api/static/edit?id=${id}`);\n  var mockData = {\n    code: 0,\n    data: {\n      channel: \'3\',\n      channelName: \'\u8d44\u8baf\',\n      checker: \'lijian3\',\n      content: \'\u9ad8\u6e05\u56fe\u96c6\',\n      createTime: \'2022-06-21 17:56:45\',\n      creator: \'lijian3\',\n      id: 221766,\n      name: \'\u8d44\u8baf-\u9999\u6e2f\u56de\u5f5225\u5468\u5e74-\u5c0fbanner1_2\',\n      publishTime: \'2022-06-21 17:56:52\',\n      status: 2,\n      updateTime: \'2022-06-21 17:56:52\',\n      updater: \'lijian3\'\n    },\n    message: \'\u6210\u529f\'\n  };\n  return mockData;\n}\n/**\n * \u9759\u6001\u788e\u7247\u7684\u4fee\u6539\u548c\u6dfb\u52a0\n * @param { string | undefined } shardId: id\n * @param { object } postData: \u53d1\u9001\u7684\u503c\n */\n\nfunction requestStaticAdd_Update_Publish(shardId, postData) {\n  return (0,request/* default */.Z)("/proxy/ucms/api/static/".concat(shardId ? \'updateAndPublish\' : \'add\'), {\n    method: \'POST\',\n    body: {\n      body: postData\n    }\n  });\n}\n/**\n * \u788e\u7247\u7684\u68c0\u67e5\n * @param { object } postData: \u53d1\u9001\u7684\u503c\n */\n\nfunction requestCheckData(postData) {\n  return (0,request/* default */.Z)(\'/proxy/ucms/api/static/check\', {\n    method: \'POST\',\n    body: {\n      body: postData\n    }\n  });\n}\n// EXTERNAL MODULE: ./src/components/History/index.tsx + 1 modules\nvar History = __webpack_require__(92042);\n// EXTERNAL MODULE: ./src/components/ArticlePublish/ConflictCheckLog/ConflictCheckLog.tsx + 1 modules\nvar ConflictCheckLog = __webpack_require__(80950);\n// EXTERNAL MODULE: ./src/pages/Shard/function/postMessage.js\nvar postMessage = __webpack_require__(89353);\n// EXTERNAL MODULE: ./src/components/Title/Title.tsx\nvar Title = __webpack_require__(47858);\n// EXTERNAL MODULE: ./src/utils/function/handleFilterOption.ts\nvar handleFilterOption = __webpack_require__(29271);\n// EXTERNAL MODULE: ./src/pages/Shard/function/channelSelectOptionRender.js\nvar channelSelectOptionRender = __webpack_require__(41037);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n;// CONCATENATED MODULE: ./src/pages/Shard/StaticEdit/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// \u9700\u8981\u540c\u65f6\u5b89\u88c5react-monaco-editor\u548cmonaco-editor\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar formItemCol = {\n  labelCol: {\n    span: 3\n  },\n  wrapperCol: {\n    span: 21\n  }\n};\n/* \u7f16\u8f91\u5668 */\n\nfunction MonacoEditorComponent(props) {\n  var _useState = (0,react.useState)(\'html\'),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      language = _useState2[0],\n      setLanguage = _useState2[1]; // onChange\u4e8b\u4ef6\n\n\n  function handleMonacoEditorChange(newValue, event) {\n    props.onChange(newValue);\n  }\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(es_select/* default */.Z, {\n      className: (StaticEditmodules_default()).select,\n      value: language,\n      onSelect: value => setLanguage(value),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default.Option */.Z.Option, {\n        value: "html",\n        children: "html"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default.Option */.Z.Option, {\n        value: "javascript",\n        children: "javascript"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default.Option */.Z.Option, {\n        value: "json",\n        children: "json"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: (StaticEditmodules_default()).editorBox,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(lib/* default */.ZP, {\n        theme: "vs",\n        width: "100%",\n        height: "100%",\n        language: language,\n        value: props.value,\n        onChange: handleMonacoEditorChange,\n        options: {\n          fontSize: 12,\n          wordWrap: \'on\'\n        }\n      })\n    })]\n  });\n}\n\n/* \u9759\u6001\u788e\u7247\u7f16\u8f91 */\nfunction Index(props) {\n  var _location$query, _location$query2, _location$query3, _shardData$name;\n\n  var params = (0,react_router/* useParams */.UO)();\n  var location = (0,react_router/* useLocation */.TH)();\n  var shardId = params.id; // \u788e\u7247ID\n\n  var notInVisualEditing = (location === null || location === void 0 ? void 0 : (_location$query = location.query) === null || _location$query === void 0 ? void 0 : _location$query.type) === \'edit\'; // \u5224\u65ad\u662f\u5426\u5728\u7f16\u8f91\u6a21\u5f0f\n\n  var noCustomPage = (location === null || location === void 0 ? void 0 : (_location$query2 = location.query) === null || _location$query2 === void 0 ? void 0 : _location$query2.type) !== \'customPage\'; // customPage\n\n  var customPageKey = location === null || location === void 0 ? void 0 : (_location$query3 = location.query) === null || _location$query3 === void 0 ? void 0 : _location$query3.chipKey; // customPage\u9700\u8981\u7684key\n\n  var _ref = notInVisualEditing ? (0,shard_hook/* useReqChannelList */.x)() : {},\n      channelList = _ref.channelList; // \u4e0d\u663e\u793a\u9891\u9053\u65f6\uff0c\u4e0d\u8bf7\u6c42\u9891\u9053\u63a5\u53e3\n\n\n  var _Form$useForm = es_form/* default.useForm */.Z.useForm(),\n      _Form$useForm2 = (0,slicedToArray/* default */.Z)(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState3 = (0,react.useState)(undefined),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      shardData = _useState4[0],\n      setShardData = _useState4[1]; // \u8bf7\u6c42\u5230\u7684\u788e\u7247\u6570\u636e\n\n\n  var _useState5 = (0,react.useState)(false),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      saveLoading = _useState6[0],\n      setSaveLoading = _useState6[1]; // loading\n\n\n  var _useState7 = (0,react.useState)(false),\n      _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n      historyVisible = _useState8[0],\n      setHistoryVisible = _useState8[1]; // \u5386\u53f2\u8bb0\u5f55\n  // \u9009\u62e9\u5386\u53f2\u8bb0\u5f55\n\n\n  function handleHistoryRollback(data) {\n    setShardData(Object.assign(data.data, {\n      id: shardId\n    }));\n    form.setFieldsValue((0,object/* pick */.e)(data.data, [\'name\', \'channel\', \'content\']));\n\n    message.default.success(\'\u56de\u6eda\u6210\u529f\uff01\');\n  }\n  /**\n   * \u4fdd\u5b58\n   * @param { 0 | 1 | 2 } type: \u53d1\u5e03\u7c7b\u578b\u30020\u3001\u4fdd\u5b58\u53d1\u5e03\uff0c1\u3001\u9884\u89c8\uff0c2\u3001\u5168\u9875\u9884\u89c8\n   * @param { object } formValue: \u8868\u5355\u503c\n   */\n\n\n  function saveData(_x, _x2) {\n    return _saveData.apply(this, arguments);\n  }\n  /**\n   * \u53d1\u5e03\n   * @param { 0 | 1 | 2 } type: \u53d1\u5e03\u7c7b\u578b\u30020\u3001\u4fdd\u5b58\u53d1\u5e03\uff0c1\u3001\u9884\u89c8\uff0c2\u3001\u5168\u9875\u9884\u89c8\n   * @param { Event } event\n   */\n\n\n  function _saveData() {\n    _saveData = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(type, formValue) {\n      var res, actionType;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setSaveLoading(true);\n              _context.prev = 1;\n\n              if (!(type === 0 && (noCustomPage || !noCustomPage && shardId))) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 5;\n              return requestStaticAdd_Update_Publish(shardId, formValue);\n\n            case 5:\n              res = _context.sent;\n\n              if (res.code === 0) {\n                message.default.success("".concat(shardId ? \'\u4fdd\u5b58\' : \'\u6dfb\u52a0\', "\\u5E76\\u53D1\\u5E03\\u6210\\u529F\\uFF01")); // \u6dfb\u52a0\u65f6\u8981\u91cd\u7f6e\u8868\u5355\n\n\n                if (!shardId) {\n                  form.resetFields();\n                }\n              } else {\n                message.default.error(res.message);\n              }\n\n            case 7:\n              actionType = postMessage/* ACTION_TYPE */.KW[type];\n              (0,postMessage/* default */.ZP)(\'static\', actionType.value, actionType.label, shardId, formValue.content, {\n                noMessage: !noCustomPage && !shardId,\n                customPageKey\n              });\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context["catch"](1);\n              console.error(_context.t0);\n\n              message.default.error(\'\u788e\u7247\u53d1\u5e03\u5931\u8d25\uff01\');\n\n            case 15:\n              setSaveLoading(false);\n\n            case 16:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n    return _saveData.apply(this, arguments);\n  }\n\n  function handleSaveClick(_x3, _x4) {\n    return _handleSaveClick.apply(this, arguments);\n  } // \u83b7\u53d6\u6570\u636e\n\n\n  function _handleSaveClick() {\n    _handleSaveClick = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2(type, event) {\n      var formValue, _err$errorFields$0$er, channelIndex, res;\n\n      return regenerator_default().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              formValue = null;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return form.validateFields();\n\n            case 4:\n              formValue = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2["catch"](1);\n              return _context2.abrupt("return", message.default.error((_err$errorFields$0$er = _context2.t0.errorFields[0].errors[0]) !== null && _err$errorFields$0$er !== void 0 ? _err$errorFields$0$er : \'\u8bf7\u5148\u5b8c\u5584\u8868\u5355\uff01\'));\n\n            case 10:\n              // \u5408\u5e76\u6570\u636e\n              if (!notInVisualEditing) {\n                Object.assign(formValue, (0,object/* pick */.e)(shardData, [\'id\']));\n              } // \u9891\u9053\u540d\u79f0\n\n\n              if (channelList) {\n                if (formValue.channel === \'0\') {\n                  formValue.channelName = \'\u5168\u7ad9\';\n                } else {\n                  channelIndex = channelList.findIndex(o => o.id === formValue.channel);\n\n                  if (channelIndex >= 0) {\n                    formValue.channelName = channelList[channelIndex].title;\n                  }\n                }\n              }\n\n              _context2.prev = 12;\n              _context2.next = 15;\n              return requestCheckData(formValue);\n\n            case 15:\n              res = _context2.sent;\n\n              if (res.data.isCheck) {\n                saveData(type, formValue);\n              } else {\n                modal/* default.confirm */.Z.confirm({\n                  content: res.data.msg,\n                  centered: true,\n\n                  onOk() {\n                    saveData(type, formValue);\n                  }\n\n                });\n              }\n\n              _context2.next = 23;\n              break;\n\n            case 19:\n              _context2.prev = 19;\n              _context2.t1 = _context2["catch"](12);\n              console.error(_context2.t1);\n\n              message.default.error(\'\u788e\u7247\u53d1\u5e03\u5931\u8d25\uff01\');\n\n            case 23:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 7], [12, 19]]);\n    }));\n    return _handleSaveClick.apply(this, arguments);\n  }\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  } // \u540c\u65f6\u7f16\u8f91\n\n\n  function _getData() {\n    _getData = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee3() {\n      var res;\n      return regenerator_default().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return requestStaticData(shardId);\n\n            case 2:\n              res = _context3.sent;\n              console.log(\'res\', res);\n              setShardData(res.data);\n              form.setFieldsValue((0,object/* pick */.e)(res.data, [\'id\', \'name\', \'channel\', \'content\']));\n\n            case 6:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  function conflictCheckLogRender() {\n    var pathname = window.location.pathname;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(ConflictCheckLog/* default */.Z, {\n      url: "https://ucms.ifeng.com".concat(pathname.toLocaleLowerCase())\n    });\n  }\n\n  var header = notInVisualEditing ? /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: (StaticEditmodules_default()).basicFieldBox,\n    children: [shardId ? /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      name: "id",\n      label: "ID"\n    }, formItemCol), {}, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(input/* default */.Z, {\n        readOnly: shardId ? true : undefined\n      })\n    }), "id") : null, /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      name: "name",\n      label: "\\u6807\\u9898",\n      rules: [{\n        required: true,\n        message: \'\u5fc5\u987b\u586b\u5199\u6807\u9898\'\n      }]\n    }, formItemCol), {}, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(input/* default */.Z, {})\n    })), /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      name: "channel",\n      label: "\\u9891\\u9053",\n      rules: [{\n        required: true,\n        message: \'\u5fc5\u987b\u9009\u62e9\u9891\u9053\'\n      }]\n    }, formItemCol), {}, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default */.Z, {\n        showSearch: true,\n        allowClear: true,\n        filterOption: handleFilterOption/* default */.Z,\n        children: (0,channelSelectOptionRender/* default */.Z)(channelList)\n      })\n    }))]\n  }) : void 0;\n\n  var footer = /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: (RecommendEditmodules_default()).btnGroup,\n    children: [shardId && /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: (RecommendEditmodules_default()).conflictCheckLog,\n      children: conflictCheckLogRender()\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(es_button/* default */.Z, {\n      className: (RecommendEditmodules_default()).btn,\n      type: "primary",\n      loading: saveLoading,\n      onClick: event => handleSaveClick(0, event),\n      children: [shardId ? \'\u4fdd\u5b58\' : \'\u6dfb\u52a0\', "\\u5E76\\u53D1\\u5E03"]\n    }), noCustomPage ? notInVisualEditing ? /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      type: "primary",\n      danger: true,\n      onClick: event => window.close(),\n      children: "\\u5173\\u95ED"\n    }) : [/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      className: (RecommendEditmodules_default()).btn,\n      loading: saveLoading,\n      onClick: event => handleSaveClick(1, event),\n      children: "\\u9884\\u89C8"\n    }, "preview"), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      className: (RecommendEditmodules_default()).btn,\n      loading: saveLoading,\n      onClick: event => handleSaveClick(2, event),\n      children: "\\u5168\\u9875\\u9884\\u89C8"\n    }, "previewNewPage"), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n      className: (RecommendEditmodules_default()).btn,\n      type: "primary",\n      danger: true,\n      onClick: (0,postMessage/* createCancelAndClosePostMessage */.Q1)(\'static\', shardId),\n      children: "\\u53D6\\u6D88"\n    }, "cancel")] : void 0, shardId ? [/*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n      className: (RecommendEditmodules_default()).roleBack,\n      role: "button",\n      "aria-label": "\\u67E5\\u770B\\u5386\\u53F2\\u8BB0\\u5F55",\n      onClick: event => setHistoryVisible(true),\n      children: "\\u5386\\u53F2\\u8BB0\\u5F55>>"\n    }, "button"), /*#__PURE__*/(0,jsx_runtime.jsx)(History/* default */.Z, {\n      visible: historyVisible,\n      id: shardId,\n      type: "fragment_static",\n      onRollback: handleHistoryRollback,\n      onCancel: event => setHistoryVisible(false)\n    }, "history")] : void 0]\n  });\n\n  (0,react.useEffect)(function () {\n    var search = window.location.search;\n    var reg = /(?<=(?:\\?))[0-9]*(?!=&)/g; // \u5339\u914d?\u548c&\u4e2d\u95f4\u503c\n\n    var query = search.match(reg, \'\')[0];\n    console.log(\'query\u53c2\u6570\', query);\n\n    if (shardId || query) {\n      getData();\n    }\n  }, [shardId]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.Z, {\n    form: form,\n    component: false,\n    children: [shardId && /*#__PURE__*/(0,jsx_runtime.jsx)(Title/* default */.Z, {\n      children: (_shardData$name = shardData === null || shardData === void 0 ? void 0 : shardData.name) !== null && _shardData$name !== void 0 ? _shardData$name : "\\u7F16\\u8F91\\u9759\\u6001\\u788E\\u7247 ".concat(shardId)\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(FlexListLayout/* default */.Z, {\n      header: header,\n      footer: footer,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, {\n        name: "content",\n        label: "\\u5185\\u5BB9",\n        required: true,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(MonacoEditorComponent, {})\n      })\n    })]\n  });\n}\n\n/* harmony default export */ var StaticEdit = (Index);\n\n//# sourceURL=webpack://timeline/./src/pages/Shard/StaticEdit/index.js_+_1_modules?')},41037:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _Users_xinjn_work_project_ifeng_manager_chip_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(97406);\n/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97140);\n/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(90407);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85893);\n\n\n\n\n\n\n/**\n * \u788e\u7247\u6240\u6709\u9891\u9053option\u7684\u6e32\u67d3\n * 200\uff1a\u6e32\u67d3\u5730\u65b9\u7ad9\u5206\u7ec4\n * 6\uff1a\u6e32\u67d3\u623f\u4ea7\u9891\u9053\u5206\u7ec4\n */\nfunction channelSelectOptionRender() {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var element = [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.Option */ .Z.Option, {\n    value: "0",\n    children: "\\u5168\\u7AD9"\n  }, "\u5168\u7ad9")];\n  var houseElement = [];\n  var bizElement = [];\n\n  var _iterator = (0,_Users_xinjn_work_project_ifeng_manager_chip_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__/* .default */ .Z)(list),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n\n      if (item.rootId === \'200\') {\n        bizElement.push( /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.Option */ .Z.Option, {\n          value: item.id,\n          children: ["\\u5730\\u65B9\\u7AD9-", item.title]\n        }, item.id));\n      } else if (item.rootId === \'6\') {\n        houseElement.push( /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.Option */ .Z.Option, {\n          value: item.id,\n          children: ["\\u623F\\u4EA7-", item.title]\n        }, item.id));\n      } else {\n        element.push( /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.Option */ .Z.Option, {\n          value: item.id,\n          children: item.title\n        }, item.id));\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  element.push( /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.OptGroup */ .Z.OptGroup, {\n    label: "\\u623F\\u4EA7",\n    children: houseElement\n  }, "houseGroup"), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(antd_es_select__WEBPACK_IMPORTED_MODULE_2__/* .default.OptGroup */ .Z.OptGroup, {\n    label: "\\u5730\\u65B9\\u7AD9",\n    children: bizElement\n  }, "bizGroup"));\n  return element;\n}\n\n/* harmony default export */ __webpack_exports__["Z"] = (channelSelectOptionRender);\n\n//# sourceURL=webpack://timeline/./src/pages/Shard/function/channelSelectOptionRender.js?')},89353:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KW\": function() { return /* binding */ ACTION_TYPE; },\n/* harmony export */   \"Q1\": function() { return /* binding */ createCancelAndClosePostMessage; }\n/* harmony export */ });\n/* harmony import */ var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14643);\n/* harmony import */ var antd_es_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38488);\n/* harmony import */ var _utils_lodash_lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44427);\n\n\n\nvar ACTION_TYPE = [{\n  value: 'save',\n  label: '\u4fdd\u5b58'\n}, {\n  value: 'preview',\n  label: '\u9884\u89c8'\n}, {\n  value: 'fullPreview',\n  label: '\u5168\u9875\u9884\u89c8'\n}];\n/**\n * \u521b\u5efa\u53d6\u6d88\u548c\u5173\u95ed\u7684\u51fd\u6570\n * @param { string } type: \u788e\u7247\u7c7b\u578b\n * @param { string } shardId: \u788e\u7247id\n */\n\nfunction createCancelAndClosePostMessage(type, shardId) {\n  return function (event) {\n    var sendData = {\n      name: 'chipedit',\n      id: (0,_utils_lodash_lodash__WEBPACK_IMPORTED_MODULE_1__/* .isNil */ .k)(shardId) ? undefined : shardId,\n      type\n    }; // TODO: \"cancle\"\u662f\u9057\u7559\u7684\u62fc\u5199\u9519\u8bef\uff0c\u4fee\u6539\u4e0d\u786e\u5b9a\u4f1a\u4e0d\u4f1a\u5bf9\u53ef\u89c6\u5316\u7f16\u8f91\u6709\u5f71\u54cd\n\n    parent.postMessage(Object.assign({\n      action: 'cancle'\n    }, sendData), '*');\n    parent.postMessage(Object.assign({\n      action: 'close'\n    }, sendData), '*');\n  };\n}\n/**\n * \u53d1\u9001\u6d88\u606f\n * @param { string } type: \u788e\u7247\u7c7b\u578b\n * @param { string } actionType: \u53d1\u9001\u7c7b\u578b\n * @param { string } actionTypeCN: \u53d1\u9001\u7c7b\u578b\u7684\u6587\u5b57\uff0c\u7528\u6765\u63d0\u793amessage\n * @param { string } shardId: \u788e\u7247id\n * @param { Array<object> } data: \u6570\u636e\n * @param { object } options: \u5176\u4ed6\u914d\u7f6e\n * @param { boolean } options.noMessage: \u4e0d\u63d0\u793a\u4fe1\u606f\n */\n\nfunction postMessage(type, actionType, actionTypeCN, shardId, data) {\n  var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n  try {\n    var sendData = {\n      name: 'chipedit',\n      action: actionType,\n      id: (0,_utils_lodash_lodash__WEBPACK_IMPORTED_MODULE_1__/* .isNil */ .k)(shardId) ? undefined : Number(shardId),\n      data,\n      type\n    };\n\n    if (options.customPageKey) {\n      sendData.chipKey = options.customPageKey;\n    }\n\n    parent.postMessage(sendData, '*');\n\n    if (actionType !== 'save' && !options.noMessage) {\n      antd_es_message__WEBPACK_IMPORTED_MODULE_2__.default.success(\"\".concat(actionTypeCN, \"\\u6210\\u529F\\uFF01\"));\n    }\n  } catch (err) {\n    console.error(err);\n\n    if (actionType !== 'save' && !options.noMessage) {\n      antd_es_message__WEBPACK_IMPORTED_MODULE_2__.default.success(\"\".concat(actionTypeCN, \"\\u5931\\u8D25\\uFF01\"));\n    }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"ZP\"] = (postMessage);\n\n//# sourceURL=webpack://timeline/./src/pages/Shard/function/postMessage.js?")},29271:function(__unused_webpack_module,__webpack_exports__){"use strict";eval("/* \u9891\u9053\u641c\u7d22 */\nfunction handleFilterOption(inputValue, option) {\n  var children = Array.isArray(option.children) ? option.children.join('') : option.children;\n  return (children === null || children === void 0 ? void 0 : children.toLowerCase().indexOf(inputValue.toLowerCase())) >= 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"Z\"] = (handleFilterOption);\n\n//# sourceURL=webpack://timeline/./src/utils/function/handleFilterOption.ts?")}}]);